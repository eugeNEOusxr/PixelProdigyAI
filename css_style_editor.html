<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎨 WordWeaver CSS Style Editor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%);
            color: #e0e0e0;
            overflow: hidden;
        }
        
        .editor-container {
            display: flex;
            height: 100vh;
        }
        
        /* Left Panel: Style Controls */
        .controls-panel {
            width: 350px;
            background: rgba(30, 30, 30, 0.95);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
            padding: 20px;
        }
        
        .panel-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #667eea;
        }
        
        .panel-header h1 {
            font-size: 24px;
            color: #667eea;
            margin-bottom: 8px;
        }
        
        .panel-header p {
            font-size: 12px;
            color: #999;
        }
        
        /* Preset Buttons */
        .preset-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 14px;
            font-weight: 600;
            color: #aaa;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .preset-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .preset-btn {
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
        }
        
        .preset-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .preset-btn.active {
            background: rgba(102, 126, 234, 0.3);
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.4);
        }
        
        /* Custom Controls */
        .custom-controls {
            margin-bottom: 30px;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-label {
            display: block;
            font-size: 12px;
            color: #999;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .color-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        input[type="color"] {
            width: 50px;
            height: 50px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
        }
        
        input[type="text"],
        input[type="number"] {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        
        input[type="range"] {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            margin: 10px 0;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            background: #667eea;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }
        
        .range-value {
            display: block;
            font-size: 11px;
            color: #667eea;
            margin-top: 5px;
            text-align: right;
        }
        
        select {
            width: 100%;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: #e0e0e0;
            font-size: 12px;
            cursor: pointer;
        }
        
        /* Toggle Switches */
        .toggle-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .toggle-btn {
            padding: 8px 16px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            color: #e0e0e0;
            cursor: pointer;
            font-size: 11px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }
        
        .toggle-btn.active {
            background: #667eea;
            border-color: #667eea;
            color: #fff;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
        }
        
        .action-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }
        
        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .action-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        /* Right Panel: Live Preview */
        .preview-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #1a1a1a;
            position: relative;
        }
        
        .preview-header {
            padding: 20px;
            background: rgba(30, 30, 30, 0.95);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .preview-header h2 {
            font-size: 18px;
            color: #667eea;
        }
        
        .view-mode-toggle {
            display: flex;
            gap: 8px;
        }
        
        .view-mode-btn {
            padding: 8px 16px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.05);
            color: #e0e0e0;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .view-mode-btn.active {
            background: #667eea;
            border-color: #667eea;
            color: #fff;
        }
        
        /* 3D Preview Canvas */
        .preview-3d {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(circle at center, #2a2a2a 0%, #1a1a1a 100%);
        }
        
        #preview-canvas {
            width: 100%;
            height: 100%;
        }
        
        /* 2D Preview */
        .preview-2d {
            flex: 1;
            padding: 40px;
            overflow: auto;
            display: none; /* Hidden by default, shown when 2D mode active */
        }
        
        .document-preview {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            transition: all 0.3s ease;
            /* These styles will be dynamically applied from CSS editor */
        }
        
        .document-preview h1 {
            font-size: 32px;
            margin-bottom: 20px;
        }
        
        .document-preview p {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 16px;
        }
        
        /* Color Transition Timeline */
        .transition-timeline {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 25px;
            border-radius: 25px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .timeline-dot {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .timeline-dot:hover {
            transform: scale(1.2);
            border-color: #fff;
        }
        
        .timeline-dot.active {
            transform: scale(1.3);
            border-color: #fff;
            box-shadow: 0 0 20px currentColor;
        }
        
        .timeline-arrow {
            color: #666;
            font-size: 20px;
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.7);
        }
        
        /* Animation for glitch effect */
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
    </style>
</head>
<body>
    <div class="editor-container">
        <!-- Left Panel: Controls -->
        <div class="controls-panel">
            <div class="panel-header">
                <h1>🎨 CSS Style Editor</h1>
                <p>Design your document's visual presence in 3D space</p>
            </div>
            
            <!-- Preset Styles -->
            <div class="preset-section">
                <div class="section-title">📚 Style Presets</div>
                <div class="preset-grid">
                    <button class="preset-btn active" onclick="selectPreset('minimal')">
                        ⚪ Minimal<br>White
                    </button>
                    <button class="preset-btn" onclick="selectPreset('vibrant')">
                        🌈 Vibrant<br>Gradient
                    </button>
                    <button class="preset-btn" onclick="selectPreset('neon')">
                        💚 Neon<br>Glow
                    </button>
                    <button class="preset-btn" onclick="selectPreset('paper')">
                        📄 Classic<br>Paper
                    </button>
                    <button class="preset-btn" onclick="selectPreset('glass')">
                        💎 Frosted<br>Glass
                    </button>
                    <button class="preset-btn" onclick="selectPreset('cyberpunk')">
                        🔮 Cyber<br>punk
                    </button>
                </div>
            </div>
            
            <!-- Custom Background -->
            <div class="custom-controls">
                <div class="section-title">🎨 Background</div>
                
                <div class="control-group">
                    <label class="control-label">Background Type</label>
                    <div class="toggle-group">
                        <button class="toggle-btn active" onclick="setBgType('solid')">Solid</button>
                        <button class="toggle-btn" onclick="setBgType('gradient')">Gradient</button>
                        <button class="toggle-btn" onclick="setBgType('image')">Image</button>
                    </div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Background Color</label>
                    <div class="color-input-group">
                        <input type="color" id="bgColor" value="#ffffff" oninput="updateStyles()">
                        <input type="text" id="bgColorHex" value="#ffffff" oninput="updateStyles()">
                    </div>
                </div>
                
                <div class="control-group" id="gradient-controls" style="display: none;">
                    <label class="control-label">Gradient Color 2</label>
                    <div class="color-input-group">
                        <input type="color" id="bgColor2" value="#667eea" oninput="updateStyles()">
                        <input type="text" id="bgColor2Hex" value="#667eea" oninput="updateStyles()">
                    </div>
                </div>
            </div>
            
            <!-- Text Styling -->
            <div class="custom-controls">
                <div class="section-title">📝 Text</div>
                
                <div class="control-group">
                    <label class="control-label">Text Color</label>
                    <div class="color-input-group">
                        <input type="color" id="textColor" value="#000000" oninput="updateStyles()">
                        <input type="text" id="textColorHex" value="#000000" oninput="updateStyles()">
                    </div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Font Size</label>
                    <input type="range" id="fontSize" min="12" max="32" value="16" oninput="updateStyles()">
                    <span class="range-value" id="fontSizeValue">16px</span>
                </div>
            </div>
            
            <!-- Border & Shadow -->
            <div class="custom-controls">
                <div class="section-title">🖼️ Border & Effects</div>
                
                <div class="control-group">
                    <label class="control-label">Border Width</label>
                    <input type="range" id="borderWidth" min="0" max="10" value="1" oninput="updateStyles()">
                    <span class="range-value" id="borderWidthValue">1px</span>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Border Color</label>
                    <div class="color-input-group">
                        <input type="color" id="borderColor" value="#e0e0e0" oninput="updateStyles()">
                        <input type="text" id="borderColorHex" value="#e0e0e0" oninput="updateStyles()">
                    </div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Border Radius</label>
                    <input type="range" id="borderRadius" min="0" max="50" value="8" oninput="updateStyles()">
                    <span class="range-value" id="borderRadiusValue">8px</span>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Shadow Blur</label>
                    <input type="range" id="shadowBlur" min="0" max="50" value="8" oninput="updateStyles()">
                    <span class="range-value" id="shadowBlurValue">8px</span>
                </div>
            </div>
            
            <!-- Transform -->
            <div class="custom-controls">
                <div class="section-title">🔄 3D Transform</div>
                
                <div class="control-group">
                    <label class="control-label">Rotation X</label>
                    <input type="range" id="rotationX" min="-180" max="180" value="0" oninput="update3DTransform()">
                    <span class="range-value" id="rotationXValue">0°</span>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Rotation Y</label>
                    <input type="range" id="rotationY" min="-180" max="180" value="0" oninput="update3DTransform()">
                    <span class="range-value" id="rotationYValue">0°</span>
                </div>
                
                <div class="control-group">
                    <label class="control-label">Scale</label>
                    <input type="range" id="scale" min="0.5" max="2" step="0.1" value="1" oninput="update3DTransform()">
                    <span class="range-value" id="scaleValue">1.0</span>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="action-btn primary" onclick="applyStyles()">✅ Apply</button>
                <button class="action-btn secondary" onclick="resetStyles()">🔄 Reset</button>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn secondary" onclick="savePreset()">💾 Save Custom</button>
                <button class="action-btn secondary" onclick="exportCSS()">📄 Export CSS</button>
            </div>
        </div>
        
        <!-- Right Panel: Preview -->
        <div class="preview-panel">
            <div class="preview-header">
                <h2>🔍 Live Preview</h2>
                <div class="view-mode-toggle">
                    <button class="view-mode-btn active" onclick="setViewMode('3d')">🎲 3D View</button>
                    <button class="view-mode-btn" onclick="setViewMode('2d')">📄 2D View</button>
                </div>
            </div>
            
            <!-- 3D Preview Canvas -->
            <div class="preview-3d" id="preview3d">
                <canvas id="preview-canvas"></canvas>
                
                <!-- Color Transition Timeline -->
                <div class="transition-timeline" id="transitionTimeline">
                    <div class="timeline-dot" style="background: #ffffff;" onclick="selectTransitionColor(0, '#ffffff')"></div>
                    <span class="timeline-arrow">→</span>
                    <div class="timeline-dot" style="background: #667eea;" onclick="selectTransitionColor(1, '#667eea')"></div>
                    <span class="timeline-arrow">→</span>
                    <div class="timeline-dot" style="background: #764ba2;" onclick="selectTransitionColor(2, '#764ba2')"></div>
                    <span class="timeline-arrow">→</span>
                    <div class="timeline-dot" style="background: #00ffff;" onclick="selectTransitionColor(3, '#00ffff')"></div>
                </div>
            </div>
            
            <!-- 2D Preview -->
            <div class="preview-2d" id="preview2d">
                <div class="document-preview" id="documentPreview">
                    <h1>Sample Document Title</h1>
                    <p>This is how your document will appear with the current CSS styling. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                    <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/three.min.js"></script>
    <script>
        // Three.js 3D Preview
        let scene, camera, renderer, documentMesh;
        
        function init3DPreview() {
            const canvas = document.getElementById('preview-canvas');
            const container = document.getElementById('preview3d');
            
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x1a1a1a);
            
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.z = 5;
            
            renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            
            // Create document plane
            const geometry = new THREE.PlaneGeometry(3, 4);
            const material = new THREE.MeshBasicMaterial({ color: 0xffffff, side: THREE.DoubleSide });
            documentMesh = new THREE.Mesh(geometry, material);
            scene.add(documentMesh);
            
            // Lighting
            const light = new THREE.PointLight(0xffffff, 1, 100);
            light.position.set(5, 5, 5);
            scene.add(light);
            
            animate();
        }
        
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }
        
        // Style Functions
        function selectPreset(presetName) {
            // Remove active class from all
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            
            // Add active class to selected
            event.target.classList.add('active');
            
            // Apply preset styles
            const presets = {
                minimal: { bg: '#ffffff', text: '#000000', border: '#e0e0e0' },
                vibrant: { bg: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', text: '#ffffff', border: 'transparent' },
                neon: { bg: '#0a0a0a', text: '#00ff00', border: '#00ff00' },
                paper: { bg: '#f9f7f1', text: '#2c2c2c', border: '#d4c5a9' },
                glass: { bg: 'rgba(255, 255, 255, 0.1)', text: '#ffffff', border: 'rgba(255, 255, 255, 0.2)' },
                cyberpunk: { bg: 'linear-gradient(45deg, #ff00ff 0%, #00ffff 100%)', text: '#ffffff', border: '#ff00ff' }
            };
            
            // TODO: Apply preset to controls
            console.log(`Selected preset: ${presetName}`);
        }
        
        function setBgType(type) {
            document.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (type === 'gradient') {
                document.getElementById('gradient-controls').style.display = 'block';
            } else {
                document.getElementById('gradient-controls').style.display = 'none';
            }
        }
        
        function updateStyles() {
            // Update range value displays
            document.getElementById('fontSizeValue').textContent = document.getElementById('fontSize').value + 'px';
            document.getElementById('borderWidthValue').textContent = document.getElementById('borderWidth').value + 'px';
            document.getElementById('borderRadiusValue').textContent = document.getElementById('borderRadius').value + 'px';
            document.getElementById('shadowBlurValue').textContent = document.getElementById('shadowBlur').value + 'px';
            
            // Apply to 2D preview
            const preview = document.getElementById('documentPreview');
            preview.style.background = document.getElementById('bgColor').value;
            preview.style.color = document.getElementById('textColor').value;
            preview.style.fontSize = document.getElementById('fontSize').value + 'px';
            preview.style.border = `${document.getElementById('borderWidth').value}px solid ${document.getElementById('borderColor').value}`;
            preview.style.borderRadius = document.getElementById('borderRadius').value + 'px';
            preview.style.boxShadow = `0 0 ${document.getElementById('shadowBlur').value}px rgba(0,0,0,0.5)`;
            
            // Apply to 3D mesh
            if (documentMesh) {
                documentMesh.material.color.setStyle(document.getElementById('bgColor').value);
            }
        }
        
        function update3DTransform() {
            document.getElementById('rotationXValue').textContent = document.getElementById('rotationX').value + '°';
            document.getElementById('rotationYValue').textContent = document.getElementById('rotationY').value + '°';
            document.getElementById('scaleValue').textContent = document.getElementById('scale').value;
            
            if (documentMesh) {
                documentMesh.rotation.x = THREE.MathUtils.degToRad(document.getElementById('rotationX').value);
                documentMesh.rotation.y = THREE.MathUtils.degToRad(document.getElementById('rotationY').value);
                documentMesh.scale.set(
                    document.getElementById('scale').value,
                    document.getElementById('scale').value,
                    1
                );
            }
        }
        
        function setViewMode(mode) {
            document.querySelectorAll('.view-mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (mode === '3d') {
                document.getElementById('preview3d').style.display = 'flex';
                document.getElementById('preview2d').style.display = 'none';
            } else {
                document.getElementById('preview3d').style.display = 'none';
                document.getElementById('preview2d').style.display = 'block';
            }
        }
        
        function selectTransitionColor(index, color) {
            document.querySelectorAll('.timeline-dot').forEach(dot => dot.classList.remove('active'));
            event.target.classList.add('active');
            console.log(`Selected transition color ${index}: ${color}`);
        }
        
        function applyStyles() {
            alert('✅ Styles applied to document in 3D space!');
        }
        
        function resetStyles() {
            if (confirm('Reset all styles to default?')) {
                location.reload();
            }
        }
        
        function savePreset() {
            const presetName = prompt('Enter preset name:');
            if (presetName) {
                alert(`💾 Saved custom preset: ${presetName}`);
            }
        }
        
        function exportCSS() {
            const css = `/* Exported from WordWeaver CSS Editor */\n.document {\n  background: ${document.getElementById('bgColor').value};\n  color: ${document.getElementById('textColor').value};\n  font-size: ${document.getElementById('fontSize').value}px;\n  border: ${document.getElementById('borderWidth').value}px solid ${document.getElementById('borderColor').value};\n  border-radius: ${document.getElementById('borderRadius').value}px;\n  box-shadow: 0 0 ${document.getElementById('shadowBlur').value}px rgba(0,0,0,0.5);\n}`;
            
            const blob = new Blob([css], { type: 'text/css' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'wordweaver-styles.css';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // Initialize on load
        window.addEventListener('load', () => {
            init3DPreview();
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            const container = document.getElementById('preview3d');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });
    </script>
</body>
</html>
