<!DOCTYPE html>
<html>
<head>
    <title>SkyRelics - Debug Version</title>
    <style>
        body { margin: 0; background: #000; color: #0f0; font-family: monospace; }
        #debug { position: absolute; top: 10px; left: 10px; z-index: 9999; background: rgba(0,0,0,0.8); padding: 20px; border: 2px solid #0f0; }
        #canvas-container { width: 100vw; height: 100vh; }
    </style>
</head>
<body>
    <div id="debug">
        <h2>üîç SkyRelics Debug Console</h2>
        <div id="status">Initializing...</div>
    </div>
    <div id="canvas-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.159.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.159.0/examples/js/controls/PointerLockControls.js"></script>
    
    <script>
        const debug = document.getElementById('status');
        function log(msg) {
            console.log(msg);
            debug.innerHTML += `<div>${msg}</div>`;
        }

        log('‚úÖ Scripts loaded');
        
        let scene, camera, renderer, controls;
        
        async function init() {
            try {
                log('üé¨ Creating scene...');
                scene = new THREE.Scene();
                scene.background = new THREE.Color(0x87CEEB);
                
                log('üì∑ Creating camera...');
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
                camera.position.set(0, 2, 10);
                
                log('üñºÔ∏è Creating renderer...');
                renderer = new THREE.WebGLRenderer({ antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.shadowMap.enabled = true;
                document.getElementById('canvas-container').appendChild(renderer.domElement);
                
                log('üéÆ Creating controls...');
                controls = new THREE.PointerLockControls(camera, renderer.domElement);
                
                renderer.domElement.addEventListener('click', () => {
                    log('üñ±Ô∏è Click detected - locking pointer...');
                    controls.lock();
                });
                
                controls.addEventListener('lock', () => {
                    log('üîí Pointer locked!');
                });
                
                log('üí° Adding lights...');
                const light = new THREE.DirectionalLight(0xffffff, 1);
                light.position.set(10, 20, 10);
                scene.add(light);
                scene.add(new THREE.AmbientLight(0x404040, 0.5));
                
                log('üü© Creating test cube...');
                const geometry = new THREE.BoxGeometry(2, 2, 2);
                const material = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
                const cube = new THREE.Mesh(geometry, material);
                cube.position.set(0, 1, 0);
                scene.add(cube);
                
                log('üåç Creating ground...');
                const groundGeo = new THREE.PlaneGeometry(100, 100);
                const groundMat = new THREE.MeshStandardMaterial({ color: 0x3a7d44 });
                const ground = new THREE.Mesh(groundGeo, groundMat);
                ground.rotation.x = -Math.PI / 2;
                scene.add(ground);
                
                log('üöÄ Starting animation loop...');
                animate();
                
                log('‚úÖ INITIALIZATION COMPLETE! Click to start.');
                
            } catch (error) {
                log('‚ùå ERROR: ' + error.message);
                console.error(error);
            }
        }
        
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }
        
        log('üì¶ Starting init...');
        init();
    </script>
</body>
</html>
