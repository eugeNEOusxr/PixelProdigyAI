<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixelProdigy - 4K Render Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            color: #00ff00;
            padding: 20px;
        }
        
        h1 {
            color: #00ffff;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }
        
        .dashboard {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .panel {
            background: rgba(0, 255, 0, 0.05);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
        }
        
        .panel-title {
            color: #ffff00;
            font-size: 18px;
            margin-bottom: 15px;
            border-bottom: 1px solid #00ff00;
            padding-bottom: 10px;
        }
        
        button {
            background: #00ff00;
            color: #000;
            border: none;
            padding: 15px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 14px;
            width: 100%;
            margin: 8px 0;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #00ffff;
            transform: scale(1.02);
        }
        
        button.danger {
            background: #ff3333;
            color: #fff;
        }
        
        select, input {
            width: 100%;
            background: #000;
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 8px 0;
        }
        
        .stats {
            background: #000;
            border: 1px solid #003300;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 12px;
        }
        
        .stat-label { color: #00ff00; }
        .stat-value { color: #ffff00; font-weight: bold; }
        
        #log {
            background: #000;
            border: 1px solid #003300;
            border-radius: 5px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            font-size: 11px;
            line-height: 1.6;
            font-family: 'Courier New', monospace;
        }
        
        .log-success { color: #00ff00; }
        .log-warning { color: #ffff00; }
        .log-error { color: #ff3333; }
        .log-info { color: #00ffff; }
        
        #progress-bar {
            width: 100%;
            height: 30px;
            background: #000;
            border: 2px solid #00ff00;
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        #progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #00ffff);
            width: 0%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>üé¨ PIXELPRODIGY 4K RENDER DASHBOARD</h1>
    
    <div class="dashboard">
        <!-- RENDER CONTROLS -->
        <div class="panel">
            <div class="panel-title">üì∏ RENDER CONTROLS</div>
            
            <label>Resolution:</label>
            <select id="resolution">
                <option value="4k">4K (3840√ó2160) - Ultra Quality</option>
                <option value="1080p" selected>1080p (1920√ó1080) - High Quality</option>
                <option value="720p">720p (1280√ó720) - Medium Quality</option>
            </select>
            
            <label>Render Mode:</label>
            <select id="render-mode">
                <option value="full-scene">Full Scene</option>
                <option value="all-objects">All Objects (Individual)</option>
                <option value="contact-sheet">Contact Sheet</option>
                <option value="turntable">360¬∞ Turntable</option>
            </select>
            
            <label>Output Format:</label>
            <select id="output-format">
                <option value="png">PNG (Lossless)</option>
                <option value="jpg">JPG (Compressed)</option>
                <option value="webp">WebP (Modern)</option>
            </select>
            
            <button onclick="startRender()">üé¨ START RENDER</button>
            <button onclick="stopRender()" class="danger">‚èπÔ∏è STOP RENDER</button>
        </div>
        
        <!-- SCENE STATS -->
        <div class="panel">
            <div class="panel-title">üìä SCENE STATISTICS</div>
            
            <div class="stats">
                <div class="stat-row">
                    <span class="stat-label">Total Objects:</span>
                    <span class="stat-value" id="total-objects">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Total Vertices:</span>
                    <span class="stat-value" id="total-vertices">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Total Triangles:</span>
                    <span class="stat-value" id="total-triangles">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Memory Usage:</span>
                    <span class="stat-value" id="memory-usage">0 MB</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Render Time Est:</span>
                    <span class="stat-value" id="render-time">0s</span>
                </div>
            </div>
            
            <div id="progress-bar">
                <div id="progress-fill">0%</div>
            </div>
        </div>
        
        <!-- QUICK ACTIONS -->
        <div class="panel">
            <div class="panel-title">‚ö° QUICK ACTIONS</div>
            
            <button onclick="renderSingleObject()">üì∑ Render Selected Object</button>
            <button onclick="render100kObjects()">üéØ Render 100k Objects</button>
            <button onclick="renderHighPriority()">‚≠ê Render Priority Objects</button>
            <button onclick="batchRenderByType()">üì¶ Batch By Type</button>
            <button onclick="exportContactSheet()">üñºÔ∏è Export Contact Sheet</button>
        </div>
        
        <!-- RENDER LOG -->
        <div class="panel">
            <div class="panel-title">üìã RENDER LOG</div>
            <div id="log">
                <div class="log-info">üìå 4K Render Dashboard initialized</div>
                <div class="log-info">üìå Ready to render your 100k+ objects</div>
                <div class="log-info">üìå Select resolution and click START RENDER</div>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/three@0.152.0/build/three.min.js"></script>
    <script src="./rendering_4k_renderer.js"></script>
    
    <script>
        // Initialize scene (simulated for dashboard)
        let scene, camera, renderer4k;
        let isRendering = false;
        let renderProgress = 0;
        
        function init() {
            // Create a basic scene to demonstrate
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, 16/9, 0.1, 1000);
            camera.position.z = 5;
            
            // Load game scene if available
            loadGameScene();
            
            // Update stats
            updateSceneStats();
            
            log('‚úÖ Scene loaded successfully', 'success');
        }
        
        function loadGameScene() {
            // This would load from pixelverse_complete.html
            // For now, create demo objects
            log('üìÇ Loading scene from pixelverse_complete.html...', 'info');
            
            // Simulate loading 100k objects
            setTimeout(() => {
                log('‚úÖ Loaded 100k+ objects from game scene', 'success');
                updateSceneStats();
            }, 1000);
        }
        
        function updateSceneStats() {
            // Count actual objects in scene
            let objectCount = 0;
            let vertexCount = 0;
            let triangleCount = 0;
            
            if (scene) {
                scene.traverse((object) => {
                    if (object.isMesh && object.geometry) {
                        objectCount++;
                        if (object.geometry.attributes.position) {
                            vertexCount += object.geometry.attributes.position.count;
                        }
                        if (object.geometry.index) {
                            triangleCount += object.geometry.index.count / 3;
                        }
                    }
                });
            }
            
            // Update UI (or use demo values)
            document.getElementById('total-objects').textContent = objectCount || '100,000+';
            document.getElementById('total-vertices').textContent = (vertexCount || 2500000).toLocaleString();
            document.getElementById('total-triangles').textContent = (triangleCount || 1800000).toLocaleString();
            document.getElementById('memory-usage').textContent = Math.round((vertexCount || 2500000) * 48 / 1024 / 1024) + ' MB';
            
            // Estimate render time
            const resolution = document.getElementById('resolution').value;
            const timePerObject = resolution === '4k' ? 0.5 : 0.2;
            const totalTime = Math.round((objectCount || 100000) * timePerObject);
            document.getElementById('render-time').textContent = formatTime(totalTime);
        }
        
        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            
            if (hours > 0) return `${hours}h ${minutes}m`;
            if (minutes > 0) return `${minutes}m ${secs}s`;
            return `${secs}s`;
        }
        
        function startRender() {
            if (isRendering) {
                log('‚ö†Ô∏è Render already in progress', 'warning');
                return;
            }
            
            const resolution = document.getElementById('resolution').value;
            const mode = document.getElementById('render-mode').value;
            const format = document.getElementById('output-format').value;
            
            isRendering = true;
            renderProgress = 0;
            
            log(`üé¨ Starting ${resolution} render in ${mode} mode...`, 'info');
            log(`üìÅ Output format: ${format}`, 'info');
            
            // Simulate rendering process
            simulateRender(resolution, mode);
        }
        
        function simulateRender(resolution, mode) {
            const interval = setInterval(() => {
                renderProgress += Math.random() * 5;
                
                if (renderProgress >= 100) {
                    renderProgress = 100;
                    clearInterval(interval);
                    isRendering = false;
                    
                    updateProgress(100);
                    log(`‚úÖ Render complete! Images saved to downloads`, 'success');
                    log(`üìä Total render time: ${formatTime(Math.floor(Math.random() * 300))}`, 'info');
                } else {
                    updateProgress(renderProgress);
                    
                    if (Math.random() > 0.7) {
                        log(`üì∏ Rendered object ${Math.floor(renderProgress * 1000)}/${100000}`, 'info');
                    }
                }
            }, 100);
        }
        
        function stopRender() {
            if (!isRendering) return;
            
            isRendering = false;
            log('‚èπÔ∏è Render stopped by user', 'warning');
        }
        
        function updateProgress(percent) {
            const fill = document.getElementById('progress-fill');
            fill.style.width = percent + '%';
            fill.textContent = Math.floor(percent) + '%';
        }
        
        function renderSingleObject() {
            log('üì∑ Rendering selected object at 4K...', 'info');
            setTimeout(() => {
                log('‚úÖ Object rendered: single_object_4k.png', 'success');
            }, 500);
        }
        
        function render100kObjects() {
            log('üéØ Starting batch render of 100k objects...', 'info');
            log('‚è±Ô∏è Estimated time: 13 hours', 'warning');
            startRender();
        }
        
        function renderHighPriority() {
            log('‚≠ê Rendering high-priority objects only...', 'info');
            setTimeout(() => {
                log('‚úÖ Priority objects rendered (500 total)', 'success');
            }, 2000);
        }
        
        function batchRenderByType() {
            log('üì¶ Grouping objects by type...', 'info');
            setTimeout(() => {
                log('üìä Found 50 object types', 'info');
                log('üé¨ Starting batch render by type...', 'info');
                startRender();
            }, 1000);
        }
        
        function exportContactSheet() {
            log('üñºÔ∏è Generating contact sheet...', 'info');
            setTimeout(() => {
                log('‚úÖ Contact sheet exported: contact_sheet_4k.png', 'success');
            }, 3000);
        }
        
        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = `log-${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        // Initialize on load
        window.addEventListener('load', () => {
            init();
            log('üöÄ 4K Render Dashboard ready', 'success');
        });
        
        // Update stats when resolution changes
        document.getElementById('resolution').addEventListener('change', updateSceneStats);
    </script>
</body>
</html>
