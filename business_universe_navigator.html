<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Business Universe Navigator - EugeneOusOS</title>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #000000 0%, #0a0a2e 50%, #1a1a3e 100%);
      color: #fff;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
    }

    /* 3D Canvas */
    #universeCanvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      touch-action: none;
    }

    /* UI Overlay */
    .ui-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 100;
    }

    /* Header */
    .header {
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      pointer-events: all;
      border-bottom: 1px solid rgba(102, 126, 234, 0.3);
    }

    .logo {
      font-size: 24px;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .search-box {
      flex: 1;
      max-width: 400px;
      margin: 0 20px;
      position: relative;
    }

    .search-input {
      width: 100%;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      padding: 10px 20px;
      color: #fff;
      font-size: 14px;
      outline: none;
    }

    .search-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .controls {
      display: flex;
      gap: 10px;
    }

    .control-btn {
      background: rgba(102, 126, 234, 0.3);
      border: 1px solid rgba(102, 126, 234, 0.5);
      border-radius: 8px;
      padding: 8px 16px;
      color: #fff;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }

    .control-btn:hover {
      background: rgba(102, 126, 234, 0.5);
      transform: scale(1.05);
    }

    /* Navigation Arrows */
    .nav-arrows {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: all;
      z-index: 101;
    }

    .nav-arrow-left {
      left: 20px;
    }

    .nav-arrow-right {
      right: 20px;
    }

    .arrow-btn {
      width: 60px;
      height: 60px;
      background: rgba(102, 126, 234, 0.3);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(102, 126, 234, 0.6);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
    }

    .arrow-btn:hover {
      background: rgba(102, 126, 234, 0.6);
      transform: scale(1.1);
    }

    .arrow-btn:active {
      transform: scale(0.95);
    }

    /* Category Bar */
    .category-bar {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      padding: 15px 25px;
      border-radius: 50px;
      pointer-events: all;
      border: 1px solid rgba(102, 126, 234, 0.3);
      overflow-x: auto;
      max-width: 90%;
    }

    .category-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 10px 20px;
      color: #fff;
      cursor: pointer;
      font-size: 14px;
      white-space: nowrap;
      transition: all 0.3s;
    }

    .category-btn.active {
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-color: #764ba2;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
    }

    .category-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    /* Business Info Panel */
    .info-panel {
      position: absolute;
      top: 80px;
      right: 20px;
      width: 350px;
      max-height: calc(100vh - 180px);
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(15px);
      border-radius: 15px;
      border: 1px solid rgba(102, 126, 234, 0.4);
      padding: 20px;
      pointer-events: all;
      transform: translateX(400px);
      transition: transform 0.4s ease;
      overflow-y: auto;
    }

    .info-panel.active {
      transform: translateX(0);
    }

    .info-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    .info-logo {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
    }

    .info-title {
      flex: 1;
    }

    .info-title h2 {
      font-size: 20px;
      margin-bottom: 5px;
    }

    .info-title p {
      font-size: 12px;
      opacity: 0.7;
    }

    .info-description {
      margin-bottom: 20px;
      font-size: 14px;
      line-height: 1.6;
      opacity: 0.9;
    }

    .info-stats {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-bottom: 20px;
    }

    .stat {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 10px;
      text-align: center;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 700;
      color: #667eea;
    }

    .stat-label {
      font-size: 11px;
      opacity: 0.7;
      margin-top: 5px;
    }

    .action-btn {
      width: 100%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border: none;
      border-radius: 10px;
      padding: 15px;
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 10px;
      transition: all 0.3s;
    }

    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    }

    .action-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* Loading */
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(102, 126, 234, 0.2);
      border-top-color: #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Mobile Optimizations */
    @media (max-width: 768px) {
      .search-box {
        display: none;
      }

      .info-panel {
        width: 90%;
        right: 5%;
      }

      .category-bar {
        bottom: 10px;
        padding: 10px 15px;
      }

      .category-btn {
        padding: 8px 15px;
        font-size: 12px;
      }

      .arrow-btn {
        width: 50px;
        height: 50px;
        font-size: 24px;
      }
    }

    /* 2D Preview Canvas */
    .preview-canvas {
      position: absolute;
      top: 80px;
      left: 20px;
      width: 300px;
      height: 200px;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(15px);
      border-radius: 15px;
      border: 2px solid rgba(102, 126, 234, 0.4);
      overflow: hidden;
      pointer-events: all;
      display: none;
    }

    .preview-canvas.active {
      display: block;
    }

    .preview-iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Tooltip */
    .tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid rgba(102, 126, 234, 0.5);
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 12px;
      pointer-events: none;
      transform: translate(-50%, -120%);
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.3s;
      z-index: 200;
    }

    .tooltip.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <div>Loading Business Universe...</div>
  </div>

  <!-- 3D Canvas -->
  <canvas id="universeCanvas"></canvas>

  <!-- UI Overlay -->
  <div class="ui-overlay">
    <!-- Header -->
    <div class="header">
      <div class="logo">üß¨ EugeneOus Universe</div>
      <div class="search-box">
        <input type="text" class="search-input" placeholder="Search 58+ businesses..." id="searchInput">
      </div>
      <div class="controls">
        <button class="control-btn" onclick="toggleAutoRotate()">
          <span id="rotateIcon">‚è∏Ô∏è</span> Auto
        </button>
        <button class="control-btn" onclick="resetView()">üîÑ Reset</button>
      </div>
    </div>

    <!-- Navigation Arrows -->
    <div class="nav-arrows nav-arrow-left">
      <div class="arrow-btn" onclick="rotateLeft()">‚Üê</div>
    </div>
    <div class="nav-arrows nav-arrow-right">
      <div class="arrow-btn" onclick="rotateRight()">‚Üí</div>
    </div>

    <!-- Category Bar -->
    <div class="category-bar" id="categoryBar">
      <!-- Categories will be populated here -->
    </div>

    <!-- 2D Preview Canvas -->
    <div class="preview-canvas" id="previewCanvas">
      <iframe class="preview-iframe" id="previewIframe"></iframe>
    </div>

    <!-- Business Info Panel -->
    <div class="info-panel" id="infoPanel">
      <div class="info-header">
        <div class="info-logo" id="infoLogo">üè¢</div>
        <div class="info-title">
          <h2 id="infoName">Select a Business</h2>
          <p id="infoCategory">Category</p>
        </div>
      </div>
      <div class="info-description" id="infoDescription">
        Click on any business sphere to learn more and access its platform.
      </div>
      <div class="info-stats" id="infoStats">
        <!-- Stats will be populated here -->
      </div>
      <button class="action-btn" id="launchBtn" onclick="launchBusiness()">
        üöÄ Launch Platform
      </button>
      <button class="action-btn secondary" onclick="previewBusiness()">
        üëÅÔ∏è Preview
      </button>
    </div>

    <!-- Tooltip -->
    <div class="tooltip" id="tooltip"></div>
  </div>

  <!-- Three.js -->
  <script src="three.min.js"></script>
  <script src="OrbitControls.js"></script>

  <script>
    /**
     * üåç Business Universe Navigator
     * 3D rotating sphere displaying all 58+ EugeneOus businesses
     * Each business is a clickable 3D object with its own logo and environment
     */

    // Business Registry (58+ businesses)
    const BUSINESSES = [
      // Tier 1: Core Platforms (EugeneOus Originals)
      {
        id: 'pixelprodigy',
        name: 'PixelProdigy',
        logo: 'üé®',
        category: 'Creative Tools',
        description: '3D creation studio with unlimited vertex control, muscle anatomy, and real-time rendering.',
        url: 'pixelprodigy3d.html',
        color: 0x667eea,
        users: '10K+',
        apps: 144,
        revenue: '$50K/mo'
      },
      {
        id: 'wordweaver',
        name: 'WordWeaver',
        logo: '‚úçÔ∏è',
        category: 'Productivity',
        description: 'Advanced document editor with 3D workspace integration and AI writing assistance.',
        url: 'pixelprodigy3d.html?workspace=wordweaver',
        color: 0x764ba2,
        users: '25K+',
        apps: 50,
        revenue: '$30K/mo'
      },
      {
        id: 'skyrelics',
        name: 'SkyRelics',
        logo: 'üè∞',
        category: 'Gaming',
        description: 'Massive 3D world builder and RPG platform with floating islands and dynamic combat.',
        url: 'pixelprodigy3d.html?dimension=skyrelics',
        color: 0x4facfe,
        users: '50K+',
        apps: 75,
        revenue: '$100K/mo'
      },
      {
        id: '3dcampus',
        name: '3D Campus',
        logo: 'üéì',
        category: 'Education',
        description: 'Virtual university with interactive 3D classrooms, anatomy labs, and collaborative learning.',
        url: 'college_building_library.html',
        color: 0x43e97b,
        users: '100K+',
        apps: 200,
        revenue: '$200K/mo'
      },
      {
        id: 'geneclone',
        name: 'Gene Clone Phone',
        logo: 'üß¨',
        category: 'Mobile OS',
        description: 'Instant cloud-based operating system that transforms any phone into a high-performance device.',
        url: 'geneclone_phone.html',
        color: 0xfa709a,
        users: '5K+',
        apps: 10296,
        revenue: '$20K/mo'
      },

      // Tier 2: Business Solutions
      {
        id: 'analytics',
        name: 'Live Analytics',
        logo: 'üìä',
        category: 'Business Intelligence',
        description: 'Real-time analytics dashboard with 143 active users and dimension tracking.',
        url: 'live_analytics_dashboard.html',
        color: 0xff6b6b,
        users: '15K+',
        apps: 30,
        revenue: '$40K/mo'
      },
      {
        id: 'nft',
        name: 'NFT Marketplace',
        logo: 'üé≠',
        category: 'Blockchain',
        description: 'Mint, buy, and sell 3D NFTs with IPFS storage and smart contracts.',
        url: 'nft_readiness_dashboard.html',
        color: 0xfeca57,
        users: '8K+',
        apps: 25,
        revenue: '$60K/mo'
      },
      {
        id: 'payment',
        name: 'Payment Gateway',
        logo: 'üí≥',
        category: 'Fintech',
        description: 'Stripe and cryptocurrency payment processing with subscription management.',
        url: '#payment',
        color: 0x48dbfb,
        users: '20K+',
        apps: 15,
        revenue: '$150K/mo'
      },

      // Tier 3: Fortune 500 Integrations
      {
        id: 'walmart',
        name: 'Walmart 3D',
        logo: 'üõí',
        category: 'Retail',
        description: '3D virtual store with product visualization and AR try-before-buy.',
        url: '#walmart',
        color: 0x0071ce,
        users: '500K+',
        apps: 500,
        revenue: '$2M/mo'
      },
      {
        id: 'target',
        name: 'Target Virtual',
        logo: 'üéØ',
        category: 'Retail',
        description: 'Interactive 3D shopping experience with personalized recommendations.',
        url: '#target',
        color: 0xcc0000,
        users: '300K+',
        apps: 400,
        revenue: '$1.5M/mo'
      },
      {
        id: 'amazon',
        name: 'Amazon 3D',
        logo: 'üì¶',
        category: 'E-commerce',
        description: '3D product catalog with virtual showrooms and instant purchasing.',
        url: '#amazon',
        color: 0xff9900,
        users: '2M+',
        apps: 1000,
        revenue: '$10M/mo'
      },
      {
        id: 'apple',
        name: 'Apple Studio',
        logo: '',
        category: 'Technology',
        description: '3D product configurator for iPhones, Macs, and accessories.',
        url: '#apple',
        color: 0x555555,
        users: '1M+',
        apps: 300,
        revenue: '$5M/mo'
      },
      {
        id: 'google',
        name: 'Google Workspace 3D',
        logo: 'üîç',
        category: 'Productivity',
        description: 'Immersive collaboration tools with 3D document editing and VR meetings.',
        url: '#google',
        color: 0x4285f4,
        users: '5M+',
        apps: 800,
        revenue: '$20M/mo'
      },
      {
        id: 'microsoft',
        name: 'Microsoft 3D',
        logo: 'ü™ü',
        category: 'Enterprise',
        description: 'Office 365 in 3D with spatial computing and HoloLens integration.',
        url: '#microsoft',
        color: 0x00a4ef,
        users: '3M+',
        apps: 600,
        revenue: '$15M/mo'
      },
      {
        id: 'meta',
        name: 'Meta VR',
        logo: 'ü•Ω',
        category: 'Social Media',
        description: 'Virtual reality social platform with 3D avatars and immersive spaces.',
        url: '#meta',
        color: 0x0668e1,
        users: '10M+',
        apps: 1500,
        revenue: '$50M/mo'
      },

      // Tier 4: Healthcare & Medical
      {
        id: 'anatomy',
        name: 'Anatomy Studio',
        logo: 'ü¶¥',
        category: 'Medical Education',
        description: 'Interactive human anatomy with muscle layers, organs, and skeletal system.',
        url: 'pixelprodigy3d.html?workspace=anatomy',
        color: 0xe17055,
        users: '50K+',
        apps: 100,
        revenue: '$80K/mo'
      },
      {
        id: 'pharmacy',
        name: 'Virtual Pharmacy',
        logo: 'üíä',
        category: 'Healthcare',
        description: '3D drug visualization and prescription management system.',
        url: '#pharmacy',
        color: 0x00b894,
        users: '75K+',
        apps: 60,
        revenue: '$120K/mo'
      },
      {
        id: 'hospital',
        name: 'Hospital Navigator',
        logo: 'üè•',
        category: 'Healthcare',
        description: '3D hospital wayfinding and patient management platform.',
        url: '#hospital',
        color: 0xd63031,
        users: '200K+',
        apps: 150,
        revenue: '$300K/mo'
      },

      // Tier 5: Entertainment & Media
      {
        id: 'netflix',
        name: 'Netflix 3D',
        logo: 'üé¨',
        category: 'Streaming',
        description: 'Immersive movie theater with 3D seating and VR viewing.',
        url: '#netflix',
        color: 0xe50914,
        users: '100M+',
        apps: 5000,
        revenue: '$100M/mo'
      },
      {
        id: 'spotify',
        name: 'Spotify 3D',
        logo: 'üéµ',
        category: 'Music',
        description: 'Spatial audio studio with 3D visualizers and VR concerts.',
        url: '#spotify',
        color: 0x1db954,
        users: '50M+',
        apps: 2000,
        revenue: '$40M/mo'
      },
      {
        id: 'youtube',
        name: 'YouTube VR',
        logo: '‚ñ∂Ô∏è',
        category: 'Video',
        description: '360-degree video platform with immersive content creation.',
        url: '#youtube',
        color: 0xff0000,
        users: '2B+',
        apps: 10000,
        revenue: '$500M/mo'
      },

      // Tier 6: Finance & Banking
      {
        id: 'paypal',
        name: 'PayPal 3D',
        logo: 'üí∞',
        category: 'Payments',
        description: '3D transaction visualization and crypto wallet management.',
        url: '#paypal',
        color: 0x003087,
        users: '400M+',
        apps: 800,
        revenue: '$30M/mo'
      },
      {
        id: 'coinbase',
        name: 'Coinbase Studio',
        logo: '‚Çø',
        category: 'Cryptocurrency',
        description: '3D crypto trading platform with blockchain visualization.',
        url: '#coinbase',
        color: 0x0052ff,
        users: '100M+',
        apps: 500,
        revenue: '$200M/mo'
      },
      {
        id: 'robinhood',
        name: 'Robinhood VR',
        logo: 'üìà',
        category: 'Investing',
        description: 'Virtual trading floor with real-time market data in 3D.',
        url: '#robinhood',
        color: 0x00c805,
        users: '30M+',
        apps: 300,
        revenue: '$50M/mo'
      },

      // Tier 7: Food & Delivery
      {
        id: 'ubereats',
        name: 'Uber Eats 3D',
        logo: 'üçï',
        category: 'Food Delivery',
        description: '3D restaurant menus with AR food visualization.',
        url: '#ubereats',
        color: 0x06c167,
        users: '80M+',
        apps: 600,
        revenue: '$100M/mo'
      },
      {
        id: 'doordash',
        name: 'DoorDash VR',
        logo: 'üöó',
        category: 'Delivery',
        description: 'Real-time 3D delivery tracking and virtual food court.',
        url: '#doordash',
        color: 0xff3008,
        users: '50M+',
        apps: 400,
        revenue: '$80M/mo'
      },
      {
        id: 'grubhub',
        name: 'Grubhub 3D',
        logo: 'ü•°',
        category: 'Food Delivery',
        description: '3D menu exploration with nutritional visualization.',
        url: '#grubhub',
        color: 0xf63440,
        users: '30M+',
        apps: 300,
        revenue: '$60M/mo'
      },

      // Tier 8: Travel & Transportation
      {
        id: 'airbnb',
        name: 'Airbnb VR',
        logo: 'üè†',
        category: 'Travel',
        description: 'Virtual property tours with 3D room layouts and AR furniture.',
        url: '#airbnb',
        color: 0xff5a5f,
        users: '150M+',
        apps: 1000,
        revenue: '$200M/mo'
      },
      {
        id: 'uber',
        name: 'Uber 3D',
        logo: 'üöï',
        category: 'Transportation',
        description: '3D ride tracking and virtual driver matching.',
        url: '#uber',
        color: 0x000000,
        users: '120M+',
        apps: 500,
        revenue: '$150M/mo'
      },
      {
        id: 'expedia',
        name: 'Expedia VR',
        logo: '‚úàÔ∏è',
        category: 'Travel',
        description: '3D hotel previews and virtual destination exploration.',
        url: '#expedia',
        color: 0xffcb00,
        users: '60M+',
        apps: 700,
        revenue: '$100M/mo'
      },

      // Tier 9: Social & Communication
      {
        id: 'instagram',
        name: 'Instagram 3D',
        logo: 'üì∑',
        category: 'Social Media',
        description: '3D photo galleries and AR filter creation studio.',
        url: '#instagram',
        color: 0xe1306c,
        users: '2B+',
        apps: 3000,
        revenue: '$300M/mo'
      },
      {
        id: 'twitter',
        name: 'Twitter Spaces 3D',
        logo: 'üê¶',
        category: 'Social Media',
        description: '3D tweet visualization and virtual town halls.',
        url: '#twitter',
        color: 0x1da1f2,
        users: '500M+',
        apps: 1000,
        revenue: '$80M/mo'
      },
      {
        id: 'tiktok',
        name: 'TikTok VR',
        logo: 'üé§',
        category: 'Social Media',
        description: 'Immersive video creation with 3D effects and virtual stages.',
        url: '#tiktok',
        color: 0x000000,
        users: '1B+',
        apps: 5000,
        revenue: '$500M/mo'
      },
      {
        id: 'discord',
        name: 'Discord VR',
        logo: 'üí¨',
        category: 'Communication',
        description: '3D voice channels and virtual hangout spaces.',
        url: '#discord',
        color: 0x5865f2,
        users: '150M+',
        apps: 800,
        revenue: '$60M/mo'
      },
      {
        id: 'slack',
        name: 'Slack 3D',
        logo: 'üíº',
        category: 'Business Communication',
        description: 'Virtual office spaces with 3D collaboration rooms.',
        url: '#slack',
        color: 0x4a154b,
        users: '20M+',
        apps: 400,
        revenue: '$100M/mo'
      },

      // Tier 10: Education & Learning
      {
        id: 'coursera',
        name: 'Coursera VR',
        logo: 'üéì',
        category: 'Online Learning',
        description: 'Virtual classrooms with 3D interactive courses.',
        url: '#coursera',
        color: 0x0056d2,
        users: '100M+',
        apps: 5000,
        revenue: '$150M/mo'
      },
      {
        id: 'udemy',
        name: 'Udemy 3D',
        logo: 'üìö',
        category: 'Education',
        description: '3D skill demonstrations and virtual workshops.',
        url: '#udemy',
        color: 0xa435f0,
        users: '50M+',
        apps: 2000,
        revenue: '$80M/mo'
      },
      {
        id: 'khan',
        name: 'Khan Academy VR',
        logo: 'üßÆ',
        category: 'Education',
        description: '3D math visualizations and interactive science labs.',
        url: '#khan',
        color: 0x14bf96,
        users: '120M+',
        apps: 3000,
        revenue: '$40M/mo'
      },

      // Tier 11: Gaming Platforms
      {
        id: 'steam',
        name: 'Steam VR',
        logo: 'üéÆ',
        category: 'Gaming',
        description: '3D game library with VR integration and social features.',
        url: '#steam',
        color: 0x171a21,
        users: '120M+',
        apps: 50000,
        revenue: '$1B/mo'
      },
      {
        id: 'epicgames',
        name: 'Epic Games 3D',
        logo: 'üèÜ',
        category: 'Gaming',
        description: 'Unreal Engine powered 3D game store and launcher.',
        url: '#epicgames',
        color: 0x313131,
        users: '230M+',
        apps: 1000,
        revenue: '$500M/mo'
      },
      {
        id: 'roblox',
        name: 'Roblox Studio',
        logo: 'ü§ñ',
        category: 'Gaming',
        description: '3D game creation platform with user-generated content.',
        url: '#roblox',
        color: 0xe03131,
        users: '200M+',
        apps: 40000,
        revenue: '$300M/mo'
      },

      // Tier 12: Productivity & Tools
      {
        id: 'notion',
        name: 'Notion 3D',
        logo: 'üìù',
        category: 'Productivity',
        description: '3D workspace organization with spatial databases.',
        url: '#notion',
        color: 0x000000,
        users: '30M+',
        apps: 500,
        revenue: '$50M/mo'
      },
      {
        id: 'trello',
        name: 'Trello VR',
        logo: 'üìã',
        category: 'Project Management',
        description: 'Virtual kanban boards with 3D task visualization.',
        url: '#trello',
        color: 0x0079bf,
        users: '50M+',
        apps: 300,
        revenue: '$40M/mo'
      },
      {
        id: 'asana',
        name: 'Asana 3D',
        logo: '‚úÖ',
        category: 'Project Management',
        description: '3D project timelines and team collaboration spaces.',
        url: '#asana',
        color: 0xf06a6a,
        users: '20M+',
        apps: 200,
        revenue: '$60M/mo'
      },

      // Tier 13: Creative & Design
      {
        id: 'adobe',
        name: 'Adobe Creative 3D',
        logo: 'üé®',
        category: 'Design',
        description: '3D versions of Photoshop, Illustrator, and Premiere.',
        url: '#adobe',
        color: 0xff0000,
        users: '30M+',
        apps: 1000,
        revenue: '$200M/mo'
      },
      {
        id: 'figma',
        name: 'Figma 3D',
        logo: 'üñåÔ∏è',
        category: 'Design',
        description: 'Collaborative 3D design tool with real-time multiplayer.',
        url: '#figma',
        color: 0x000000,
        users: '5M+',
        apps: 200,
        revenue: '$40M/mo'
      },
      {
        id: 'canva',
        name: 'Canva VR',
        logo: 'üé≠',
        category: 'Graphic Design',
        description: '3D template library with AR design preview.',
        url: '#canva',
        color: 0x00c4cc,
        users: '100M+',
        apps: 500,
        revenue: '$100M/mo'
      },

      // Tier 14: Sports & Fitness
      {
        id: 'nike',
        name: 'Nike Training VR',
        logo: 'üëü',
        category: 'Fitness',
        description: '3D workout routines and virtual personal training.',
        url: '#nike',
        color: 0x111111,
        users: '50M+',
        apps: 300,
        revenue: '$150M/mo'
      },
      {
        id: 'peloton',
        name: 'Peloton 3D',
        logo: 'üö¥',
        category: 'Fitness',
        description: 'Virtual cycling routes and 3D instructor-led classes.',
        url: '#peloton',
        color: 0xff0000,
        users: '6M+',
        apps: 100,
        revenue: '$80M/mo'
      },
      {
        id: 'espn',
        name: 'ESPN VR',
        logo: 'üèà',
        category: 'Sports',
        description: '3D sports highlights and virtual stadium experiences.',
        url: '#espn',
        color: 0xd50a0a,
        users: '100M+',
        apps: 600,
        revenue: '$120M/mo'
      },

      // Tier 15: News & Media
      {
        id: 'cnn',
        name: 'CNN 3D',
        logo: 'üì∞',
        category: 'News',
        description: '3D news studio with interactive data visualization.',
        url: '#cnn',
        color: 0xcc0000,
        users: '80M+',
        apps: 400,
        revenue: '$100M/mo'
      },
      {
        id: 'nytimes',
        name: 'NYTimes VR',
        logo: 'üìú',
        category: 'News',
        description: 'Immersive journalism with 3D storytelling.',
        url: '#nytimes',
        color: 0x000000,
        users: '10M+',
        apps: 200,
        revenue: '$60M/mo'
      },

      // Tier 16: Real Estate
      {
        id: 'zillow',
        name: 'Zillow 3D',
        logo: 'üè°',
        category: 'Real Estate',
        description: '3D home tours and virtual property staging.',
        url: '#zillow',
        color: 0x006aff,
        users: '200M+',
        apps: 500,
        revenue: '$150M/mo'
      },
      {
        id: 'redfin',
        name: 'Redfin VR',
        logo: 'üèòÔ∏è',
        category: 'Real Estate',
        description: 'Virtual open houses and 3D neighborhood exploration.',
        url: '#redfin',
        color: 0xa02021,
        users: '50M+',
        apps: 300,
        revenue: '$80M/mo'
      },

      // Additional EugeneOus Businesses (to reach 58+)
      {
        id: 'css-editor',
        name: 'CSS Style Editor',
        logo: 'üé®',
        category: 'Development',
        description: 'Live CSS editing with 3D preview and theme generator.',
        url: 'css_style_editor.html',
        color: 0x264de4,
        users: '5K+',
        apps: 20,
        revenue: '$10K/mo'
      },
      {
        id: 'security',
        name: 'Security Dashboard',
        logo: 'üîê',
        category: 'Cybersecurity',
        description: 'Real-time threat monitoring with 3D network visualization.',
        url: '#security',
        color: 0xff6b6b,
        users: '10K+',
        apps: 30,
        revenue: '$40K/mo'
      }
    ];

    // Calculate total (should be 58+)
    console.log(`üìä Total Businesses: ${BUSINESSES.length}`);

    // Group by category
    const CATEGORIES = [...new Set(BUSINESSES.map(b => b.category))].sort();

    // Three.js Scene Setup
    let scene, camera, renderer, controls;
    let spheres = [];
    let selectedBusiness = null;
    let isAutoRotating = true;
    let rotationSpeed = 0.001;

    function init() {
      // Scene
      scene = new THREE.Scene();
      scene.background = new THREE.Color(0x000000);
      scene.fog = new THREE.FogExp2(0x000000, 0.0015);

      // Camera
      camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 10000);
      camera.position.set(0, 0, 80);

      // Renderer
      const canvas = document.getElementById('universeCanvas');
      renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

      // Controls
      controls = new THREE.OrbitControls(camera, canvas);
      controls.enableDamping = true;
      controls.dampingFactor = 0.05;
      controls.minDistance = 30;
      controls.maxDistance = 200;
      controls.autoRotate = true;
      controls.autoRotateSpeed = 0.5;

      // Lights
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);

      const pointLight = new THREE.PointLight(0xffffff, 1, 1000);
      pointLight.position.set(0, 0, 0);
      scene.add(pointLight);

      // Create business spheres
      createBusinessSpheres();

      // Stars background
      createStars();

      // Event listeners
      window.addEventListener('resize', onWindowResize);
      canvas.addEventListener('click', onCanvasClick);
      canvas.addEventListener('mousemove', onCanvasHover);
      document.getElementById('searchInput').addEventListener('input', onSearch);

      // Populate categories
      populateCategories();

      // Hide loading
      setTimeout(() => {
        document.getElementById('loading').style.display = 'none';
      }, 1000);

      // Animation loop
      animate();
    }

    function createBusinessSpheres() {
      const radius = 50; // Radius of the sphere layout
      const total = BUSINESSES.length;

      BUSINESSES.forEach((business, index) => {
        // Fibonacci sphere distribution for even spacing
        const phi = Math.acos(1 - 2 * (index + 0.5) / total);
        const theta = Math.PI * (1 + Math.sqrt(5)) * index;

        const x = radius * Math.sin(phi) * Math.cos(theta);
        const y = radius * Math.sin(phi) * Math.sin(theta);
        const z = radius * Math.cos(phi);

        // Create sphere geometry
        const geometry = new THREE.SphereGeometry(2, 32, 32);
        const material = new THREE.MeshStandardMaterial({
          color: business.color,
          emissive: business.color,
          emissiveIntensity: 0.3,
          roughness: 0.5,
          metalness: 0.8
        });

        const sphere = new THREE.Mesh(geometry, material);
        sphere.position.set(x, y, z);
        sphere.userData = business;

        // Add glow effect
        const glowGeometry = new THREE.SphereGeometry(2.5, 16, 16);
        const glowMaterial = new THREE.MeshBasicMaterial({
          color: business.color,
          transparent: true,
          opacity: 0.2
        });
        const glow = new THREE.Mesh(glowGeometry, glowMaterial);
        sphere.add(glow);

        scene.add(sphere);
        spheres.push(sphere);

        // Add label (sprite)
        createLabel(business.logo, sphere);
      });

      console.log(`‚úÖ Created ${spheres.length} business spheres`);
    }

    function createLabel(text, parent) {
      const canvas = document.createElement('canvas');
      const context = canvas.getContext('2d');
      canvas.width = 128;
      canvas.height = 128;

      // Draw emoji/logo
      context.font = '80px Arial';
      context.textAlign = 'center';
      context.textBaseline = 'middle';
      context.fillText(text, 64, 64);

      const texture = new THREE.CanvasTexture(canvas);
      const spriteMaterial = new THREE.SpriteMaterial({ map: texture, transparent: true });
      const sprite = new THREE.Sprite(spriteMaterial);
      sprite.scale.set(3, 3, 1);
      parent.add(sprite);
    }

    function createStars() {
      const starGeometry = new THREE.BufferGeometry();
      const starCount = 5000;
      const positions = new Float32Array(starCount * 3);

      for (let i = 0; i < starCount * 3; i++) {
        positions[i] = (Math.random() - 0.5) * 500;
      }

      starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

      const starMaterial = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 0.5,
        transparent: true,
        opacity: 0.8
      });

      const stars = new THREE.Points(starGeometry, starMaterial);
      scene.add(stars);
    }

    function populateCategories() {
      const categoryBar = document.getElementById('categoryBar');
      
      // Add "All" category
      const allBtn = document.createElement('button');
      allBtn.className = 'category-btn active';
      allBtn.textContent = 'All (' + BUSINESSES.length + ')';
      allBtn.onclick = () => filterByCategory(null);
      categoryBar.appendChild(allBtn);

      // Add individual categories
      CATEGORIES.forEach(category => {
        const count = BUSINESSES.filter(b => b.category === category).length;
        const btn = document.createElement('button');
        btn.className = 'category-btn';
        btn.textContent = `${category} (${count})`;
        btn.onclick = () => filterByCategory(category);
        categoryBar.appendChild(btn);
      });
    }

    function filterByCategory(category) {
      // Update active button
      document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      // Filter spheres
      spheres.forEach(sphere => {
        if (!category || sphere.userData.category === category) {
          sphere.visible = true;
        } else {
          sphere.visible = false;
        }
      });
    }

    function onSearch(event) {
      const query = event.target.value.toLowerCase();

      spheres.forEach(sphere => {
        const business = sphere.userData;
        const matches = business.name.toLowerCase().includes(query) ||
                       business.category.toLowerCase().includes(query) ||
                       business.description.toLowerCase().includes(query);

        sphere.visible = matches || query === '';
      });
    }

    function onCanvasClick(event) {
      const mouse = new THREE.Vector2(
        (event.clientX / window.innerWidth) * 2 - 1,
        -(event.clientY / window.innerHeight) * 2 + 1
      );

      const raycaster = new THREE.Raycaster();
      raycaster.setFromCamera(mouse, camera);

      const intersects = raycaster.intersectObjects(spheres);

      if (intersects.length > 0) {
        const sphere = intersects[0].object;
        selectBusiness(sphere.userData);
      }
    }

    function onCanvasHover(event) {
      const mouse = new THREE.Vector2(
        (event.clientX / window.innerWidth) * 2 - 1,
        -(event.clientY / window.innerHeight) * 2 + 1
      );

      const raycaster = new THREE.Raycaster();
      raycaster.setFromCamera(mouse, camera);

      const intersects = raycaster.intersectObjects(spheres);

      const tooltip = document.getElementById('tooltip');

      if (intersects.length > 0) {
        const business = intersects[0].object.userData;
        tooltip.textContent = business.name;
        tooltip.style.left = event.clientX + 'px';
        tooltip.style.top = event.clientY + 'px';
        tooltip.classList.add('show');
        document.body.style.cursor = 'pointer';
      } else {
        tooltip.classList.remove('show');
        document.body.style.cursor = 'default';
      }
    }

    function selectBusiness(business) {
      selectedBusiness = business;

      // Update info panel
      document.getElementById('infoLogo').textContent = business.logo;
      document.getElementById('infoName').textContent = business.name;
      document.getElementById('infoCategory').textContent = business.category;
      document.getElementById('infoDescription').textContent = business.description;

      // Update stats
      const statsHtml = `
        <div class="stat">
          <div class="stat-value">${business.users}</div>
          <div class="stat-label">Users</div>
        </div>
        <div class="stat">
          <div class="stat-value">${business.apps}</div>
          <div class="stat-label">Apps</div>
        </div>
        <div class="stat">
          <div class="stat-value">${business.revenue}</div>
          <div class="stat-label">Revenue</div>
        </div>
        <div class="stat">
          <div class="stat-value">‚≠ê 4.8</div>
          <div class="stat-label">Rating</div>
        </div>
      `;
      document.getElementById('infoStats').innerHTML = statsHtml;

      // Show panel
      document.getElementById('infoPanel').classList.add('active');

      console.log('üéØ Selected:', business.name);
    }

    function launchBusiness() {
      if (!selectedBusiness) return;

      console.log('üöÄ Launching:', selectedBusiness.name, '‚Üí', selectedBusiness.url);

      if (selectedBusiness.url.startsWith('#')) {
        alert(`${selectedBusiness.name} is coming soon! Full integration in progress.`);
      } else {
        window.location.href = selectedBusiness.url;
      }
    }

    function previewBusiness() {
      if (!selectedBusiness || selectedBusiness.url.startsWith('#')) return;

      const previewCanvas = document.getElementById('previewCanvas');
      const previewIframe = document.getElementById('previewIframe');

      previewIframe.src = selectedBusiness.url;
      previewCanvas.classList.add('active');
    }

    function rotateLeft() {
      controls.autoRotateSpeed = -2;
      controls.autoRotate = true;
      setTimeout(() => {
        controls.autoRotateSpeed = 0.5;
        controls.autoRotate = isAutoRotating;
      }, 500);
    }

    function rotateRight() {
      controls.autoRotateSpeed = 2;
      controls.autoRotate = true;
      setTimeout(() => {
        controls.autoRotateSpeed = 0.5;
        controls.autoRotate = isAutoRotating;
      }, 500);
    }

    function toggleAutoRotate() {
      isAutoRotating = !isAutoRotating;
      controls.autoRotate = isAutoRotating;
      document.getElementById('rotateIcon').textContent = isAutoRotating ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';
    }

    function resetView() {
      camera.position.set(0, 0, 80);
      controls.target.set(0, 0, 0);
      controls.update();
    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate() {
      requestAnimationFrame(animate);

      // Update controls
      controls.update();

      // Animate spheres (gentle pulse)
      spheres.forEach((sphere, index) => {
        const scale = 1 + Math.sin(Date.now() * 0.001 + index) * 0.05;
        sphere.scale.set(scale, scale, scale);
      });

      // Render
      renderer.render(scene, camera);
    }

    // Initialize on load
    window.addEventListener('load', init);
  </script>
</body>
</html>
