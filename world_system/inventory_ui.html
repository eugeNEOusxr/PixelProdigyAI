<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixelVerse - Inventory & Equipment</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            overflow: hidden;
            user-select: none;
        }

        .container {
            display: flex;
            gap: 20px;
            padding: 20px;
            height: 100vh;
        }

        /* Character Preview */
        .character-panel {
            width: 300px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #4a90e2;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .character-preview {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #333;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .character-model {
            width: 200px;
            height: 250px;
            background: linear-gradient(180deg, #4a90e2, #2a5298);
            border-radius: 10px;
            position: relative;
        }

        .character-stats {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 5px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-label {
            color: #aaa;
        }

        .stat-value {
            color: #4a90e2;
            font-weight: bold;
        }

        /* Equipment Slots */
        .equipment-panel {
            width: 350px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #4a90e2;
            border-radius: 10px;
            padding: 20px;
        }

        .equipment-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            color: #4a90e2;
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .equipment-slot {
            width: 100%;
            aspect-ratio: 1;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #333;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .equipment-slot:hover {
            border-color: #4a90e2;
            background: rgba(74, 144, 226, 0.2);
        }

        .equipment-slot.filled {
            border-color: #4a90e2;
            background: rgba(74, 144, 226, 0.3);
        }

        .slot-label {
            font-size: 10px;
            color: #888;
            margin-bottom: 5px;
        }

        .slot-icon {
            width: 80%;
            height: 80%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* Inventory Grid */
        .inventory-panel {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #4a90e2;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .inventory-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .inventory-title {
            font-size: 24px;
            font-weight: bold;
            color: #4a90e2;
        }

        .inventory-controls {
            display: flex;
            gap: 10px;
        }

        .control-btn {
            padding: 8px 15px;
            background: rgba(74, 144, 226, 0.3);
            border: 1px solid #4a90e2;
            border-radius: 5px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: rgba(74, 144, 226, 0.5);
        }

        .inventory-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .info-label {
            font-size: 12px;
            color: #888;
        }

        .info-value {
            font-size: 18px;
            font-weight: bold;
            color: #4a90e2;
        }

        .weight-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 5px;
        }

        .weight-fill {
            height: 100%;
            background: linear-gradient(90deg, #4a90e2, #2ecc71);
            transition: width 0.3s;
        }

        .weight-fill.warning {
            background: linear-gradient(90deg, #f39c12, #e74c3c);
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 5px;
            overflow-y: auto;
            flex: 1;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .inventory-slot {
            aspect-ratio: 1;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #333;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .inventory-slot:hover {
            border-color: #4a90e2;
            background: rgba(74, 144, 226, 0.2);
        }

        .inventory-slot.filled {
            border-color: #555;
        }

        .inventory-slot.dragging {
            opacity: 0.5;
            border-color: #4a90e2;
            border-style: dashed;
        }

        .inventory-slot.drag-over {
            border-color: #2ecc71;
            background: rgba(46, 204, 113, 0.2);
        }

        .item-icon {
            width: 100%;
            height: 100%;
            background-size: 80%;
            background-repeat: no-repeat;
            background-position: center;
            pointer-events: none;
        }

        .item-quantity {
            position: absolute;
            bottom: 2px;
            right: 4px;
            font-size: 12px;
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 2px #000;
            pointer-events: none;
        }

        .item-rarity {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            pointer-events: none;
        }

        .rarity-common { background: #fff; }
        .rarity-uncommon { background: #2ecc71; }
        .rarity-rare { background: #3498db; }
        .rarity-epic { background: #9b59b6; }
        .rarity-legendary { background: #f39c12; }
        .rarity-mythic { background: #e74c3c; }

        /* Quick Slots */
        .quickslots-bar {
            display: flex;
            gap: 5px;
            justify-content: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            margin-top: 10px;
        }

        .quickslot {
            width: 60px;
            height: 60px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #333;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quickslot:hover {
            border-color: #4a90e2;
        }

        .quickslot-number {
            position: absolute;
            top: 2px;
            left: 4px;
            font-size: 12px;
            color: #888;
            pointer-events: none;
        }

        /* Tooltip */
        .tooltip {
            position: fixed;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid #4a90e2;
            border-radius: 8px;
            padding: 15px;
            min-width: 250px;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }

        .tooltip.show {
            display: block;
        }

        .tooltip-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .tooltip-rarity {
            font-size: 14px;
            margin-bottom: 10px;
        }

        .tooltip-stats {
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .tooltip-stat {
            display: flex;
            justify-content: space-between;
            margin: 3px 0;
            font-size: 14px;
        }

        .tooltip-description {
            margin-top: 10px;
            font-size: 13px;
            color: #aaa;
            font-style: italic;
        }

        .tooltip-requirements {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #e74c3c;
            font-size: 12px;
        }

        .tooltip-price {
            margin-top: 10px;
            font-size: 14px;
            color: #f39c12;
        }

        /* Context Menu */
        .context-menu {
            position: fixed;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid #4a90e2;
            border-radius: 5px;
            padding: 5px;
            min-width: 150px;
            z-index: 1001;
            display: none;
        }

        .context-menu.show {
            display: block;
        }

        .context-item {
            padding: 10px;
            cursor: pointer;
            border-radius: 3px;
            transition: background 0.2s;
        }

        .context-item:hover {
            background: rgba(74, 144, 226, 0.3);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #4a90e2;
            border-radius: 5px;
            padding: 15px 20px;
            min-width: 250px;
            z-index: 2000;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.success {
            border-color: #2ecc71;
        }

        .notification.error {
            border-color: #e74c3c;
        }

        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        /* Loading Screen */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .loading-content {
            text-align: center;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(74, 144, 226, 0.3);
            border-top-color: #4a90e2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 18px;
            color: #4a90e2;
        }
    </style>
</head>
<body>
    <div class="loading" id="loading">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Loading Inventory System...</div>
        </div>
    </div>

    <div class="container" style="display: none;" id="mainContainer">
        <!-- Character Panel -->
        <div class="character-panel">
            <div class="character-preview">
                <div class="character-model" id="characterModel"></div>
            </div>
            <div class="character-stats">
                <h3 style="text-align: center; margin-bottom: 10px;">Total Stats</h3>
                <div class="stat-row">
                    <span class="stat-label">‚öîÔ∏è Damage</span>
                    <span class="stat-value" id="statDamage">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">üõ°Ô∏è Defense</span>
                    <span class="stat-value" id="statDefense">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">üí™ Strength</span>
                    <span class="stat-value" id="statStrength">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">üèÉ Agility</span>
                    <span class="stat-value" id="statAgility">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">üß† Intelligence</span>
                    <span class="stat-value" id="statIntelligence">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">‚ù§Ô∏è Vitality</span>
                    <span class="stat-value" id="statVitality">0</span>
                </div>
            </div>
        </div>

        <!-- Equipment Panel -->
        <div class="equipment-panel">
            <div class="equipment-title">Equipment</div>
            <div class="equipment-grid">
                <div class="equipment-slot" data-slot="head">
                    <span class="slot-label">HEAD</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="shoulders">
                    <span class="slot-label">SHOULDERS</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="neck">
                    <span class="slot-label">NECK</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="back">
                    <span class="slot-label">BACK</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="chest">
                    <span class="slot-label">CHEST</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="waist">
                    <span class="slot-label">WAIST</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="hands">
                    <span class="slot-label">HANDS</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="legs">
                    <span class="slot-label">LEGS</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="feet">
                    <span class="slot-label">FEET</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="weapon_main">
                    <span class="slot-label">WEAPON</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="weapon_off">
                    <span class="slot-label">OFF-HAND</span>
                    <div class="slot-icon"></div>
                </div>
                <div class="equipment-slot" data-slot="finger">
                    <span class="slot-label">RING</span>
                    <div class="slot-icon"></div>
                </div>
            </div>
        </div>

        <!-- Inventory Panel -->
        <div class="inventory-panel">
            <div class="inventory-header">
                <div class="inventory-title">Inventory</div>
                <div class="inventory-controls">
                    <select class="control-btn" id="sortSelect">
                        <option value="name">Sort by Name</option>
                        <option value="rarity">Sort by Rarity</option>
                        <option value="level">Sort by Level</option>
                        <option value="price">Sort by Price</option>
                        <option value="category">Sort by Category</option>
                    </select>
                    <button class="control-btn" id="saveBtn">üíæ Save</button>
                    <button class="control-btn" id="loadBtn">üìÅ Load</button>
                </div>
            </div>

            <div class="inventory-info">
                <div class="info-item">
                    <span class="info-label">Gold</span>
                    <span class="info-value" id="goldAmount">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Slots</span>
                    <span class="info-value" id="slotsUsed">0/100</span>
                </div>
                <div class="info-item" style="flex: 1; margin: 0 20px;">
                    <span class="info-label">Weight</span>
                    <span class="info-value" id="weightAmount">0/100</span>
                    <div class="weight-bar">
                        <div class="weight-fill" id="weightFill"></div>
                    </div>
                </div>
            </div>

            <div class="inventory-grid" id="inventoryGrid"></div>

            <div class="quickslots-bar">
                <div class="quickslot" data-slot="0"><span class="quickslot-number">1</span></div>
                <div class="quickslot" data-slot="1"><span class="quickslot-number">2</span></div>
                <div class="quickslot" data-slot="2"><span class="quickslot-number">3</span></div>
                <div class="quickslot" data-slot="3"><span class="quickslot-number">4</span></div>
                <div class="quickslot" data-slot="4"><span class="quickslot-number">5</span></div>
                <div class="quickslot" data-slot="5"><span class="quickslot-number">6</span></div>
                <div class="quickslot" data-slot="6"><span class="quickslot-number">7</span></div>
                <div class="quickslot" data-slot="7"><span class="quickslot-number">8</span></div>
                <div class="quickslot" data-slot="8"><span class="quickslot-number">9</span></div>
                <div class="quickslot" data-slot="9"><span class="quickslot-number">0</span></div>
            </div>
        </div>
    </div>

    <!-- Tooltip -->
    <div class="tooltip" id="tooltip"></div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu"></div>

    <script src="inventory_manager.js"></script>
    <script src="inventory_ui.js"></script>
</body>
</html>
